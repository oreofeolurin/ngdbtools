<form [formGroup]="form" [ngClass]="{'submit-attempted': submitAttempted}" class="row" (ngSubmit)="onSubmit()">

    <ng-template ngFor let-control [ngForOf]="controls">
        <div [ngSwitch]="control.controlType" class="col-{{control.column.normal}} db-control" id="db-control-{{control.key}}">
            <div *ngSwitchCase="'group'" class="row db-group-control" [id]="'db-group-control-' + control.key">
                <div class="col-12 db-group-control-heading">{{control.label}}</div>
                <p *ngIf="control.description" class="col-12 small">{{control.description}}</p>
                <ng-template ngFor let-subControl [ngForOf]="control['controls']">

                    <db-form-control class="col-{{subControl.column.normal}}" [group]="control.key"
                        [control]="subControl" [form]="form">
                    </db-form-control>

                    <!-- Force next columns to break to new line -->
                    <div *ngIf="subControl.column.break" class="w-100"></div>
                </ng-template>
            </div>


            <db-multiple-form-control *ngSwitchCase="'multiple'" [control]="control" [form]="form"></db-multiple-form-control>


            <db-table-form-control *ngSwitchCase="'table'" [control]="control" [form]="form"></db-table-form-control>


            <db-form-control *ngSwitchDefault [control]="control" [form]="form"></db-form-control>


        </div>

        <!-- Force next columns to break to new line -->
        <div *ngIf="control.column.break" class="w-100"></div>

    </ng-template>

</form>